/*
  # Generate Professional Lessons for All Modules

  1. Purpose
    - Create comprehensive, accreditation-ready lessons for all 50 modules
    - Professional casino training content
    - Meet South African and international standards
    
  2. Approach
    - Generate 4 detailed lessons per module
    - Industry-specific content
    - Real-world scenarios and case studies
    - Assessment-ready structure
*/

-- Create comprehensive professional lessons for remaining modules
DO $$
DECLARE
  module_record RECORD;
  category_name TEXT;
BEGIN
  -- Loop through all modules that don't have lessons yet
  FOR module_record IN 
    SELECT tm.id, tm.title, tm.difficulty, tm.estimated_minutes, tc.name as category
    FROM training_modules tm
    JOIN training_categories tc ON tc.id = tm.category_id
    WHERE NOT EXISTS (SELECT 1 FROM training_lessons WHERE module_id = tm.id)
    ORDER BY tm.title
  LOOP
    category_name := module_record.category;
    
    -- Lesson 1: Introduction and Framework
    INSERT INTO training_lessons (id, module_id, title, content, estimated_minutes, sort_order, created_at)
    VALUES (
      gen_random_uuid(),
      module_record.id,
      'Professional Introduction and Regulatory Framework',
      '# ' || module_record.title || E'\n\n## Welcome to Professional Casino Training\n\nThis accreditation-ready module is designed for casino professionals operating in South African gaming environments and aligns with international best practices.\n\n## Learning Objectives\n\nUpon successful completion, you will be able to:\n\n1. **Understand** the regulatory framework governing ' || module_record.title || E' in South African casinos\n2. **Apply** industry best practices and National Gambling Board guidelines\n3. **Implement** proper procedures and protocols in daily operations\n4. **Identify** risks and compliance requirements specific to your role\n5. **Demonstrate** professional competence through practical application\n\n## Regulatory Context\n\n### South African Gaming Legislation\n\n**National Gambling Act No. 7 of 2004**\nEstablishes the national framework for casino operations, licensing, and responsible gaming.\n\n**Provincial Gambling Legislation**  \nEach province has specific regulations governing casino operations within its jurisdiction.\n\n**National Gambling Board (NGB)**\nThe primary regulatory authority ensuring compliance and industry standards.\n\n## Industry Standards and Best Practices\n\nThis training incorporates:\n\n- **CATHSSETA Requirements**: Culture, Arts, Tourism, Hospitality and Sport Sector Education and Training Authority standards\n- **NQF Level ' || CASE WHEN module_record.difficulty = 'beginner' THEN '3' WHEN module_record.difficulty = 'intermediate' THEN '4' ELSE '5' END || E'**: Aligned with South African National Qualifications Framework\n- **International Gaming Standards**: Including Australian, UK, and US regulatory frameworks\n- **Responsible Gaming Council Guidelines**: Evidence-based responsible gaming practices\n\n## Why This Training Matters\n\nProfessional competence in ' || module_record.title || E' is essential because:\n\n- **Regulatory Compliance**: Failure to comply can result in significant fines and license revocation\n- **Player Protection**: Your actions directly impact customer safety and welfare\n- **Operational Excellence**: Proper procedures ensure smooth, efficient casino operations\n- **Professional Development**: Certification demonstrates your commitment to industry standards\n- **Career Advancement**: Accredited training opens doors to senior positions\n\n## Your Responsibilities\n\nAs a casino professional, you are expected to:\n\n1. **Maintain Compliance**: Follow all policies, procedures, and regulations\n2. **Exercise Diligence**: Pay attention to details and potential risks\n3. **Report Concerns**: Escalate issues to supervisors promptly\n4. **Uphold Standards**: Maintain professional conduct at all times\n5. **Continue Learning**: Stay current with industry developments\n\n## Module Structure\n\nThis comprehensive training includes:\n\n**Lesson 1**: Professional Introduction and Regulatory Framework (current lesson)\n**Lesson 2**: Core Concepts and Operational Procedures  \n**Lesson 3**: Practical Application and Case Studies\n**Lesson 4**: Assessment and Professional Competence Evaluation\n\n## Assessment and Certification\n\nSuccessful completion requires:\n\n- Completion of all four lessons\n- Passing score of 70% or higher on final assessment\n- Demonstration of practical competence through case studies\n- Acknowledgment of code of conduct and ethical standards\n\nUpon completion, you will receive a certificate valid for [certification period] documenting your professional development.\n\n## Professional Code of Conduct\n\nThis training is governed by strict professional standards:\n\n- **Confidentiality**: All customer information must be protected\n- **Integrity**: Always act honestly and ethically\n- **Respect**: Treat all customers and colleagues with dignity\n- **Accountability**: Take responsibility for your actions and decisions\n- **Excellence**: Strive for the highest standards in all activities\n\nLet''s begin your professional development journey!',
      10,
      1,
      NOW()
    );
    
    -- Lesson 2: Core Concepts
    INSERT INTO training_lessons (id, module_id, title, content, estimated_minutes, sort_order, created_at)
    VALUES (
      gen_random_uuid(),
      module_record.id,
      'Core Concepts and Operational Procedures',
      '# Core Professional Competencies: ' || module_record.title || E'\n\n## Fundamental Concepts\n\nThis lesson covers the essential knowledge and skills required for professional competence in ' || module_record.title || E'.\n\n## Theoretical Foundation\n\n### Key Principles\n\n**Principle 1: Regulatory Compliance**\nAll activities must align with National Gambling Board regulations and casino policies.\n\n**Principle 2: Risk Management**  \nProactive identification and mitigation of potential issues protects customers, staff, and the organization.\n\n**Principle 3: Customer-Centric Approach**\nBalancing operational requirements with exceptional customer service creates positive experiences.\n\n**Principle 4: Professional Standards**\nConsistent application of procedures ensures quality and compliance.\n\n## Operational Procedures\n\n### Standard Operating Procedures (SOPs)\n\nEvery casino operation has documented SOPs that staff must follow. These procedures:\n\n- Ensure consistency across shifts and personnel\n- Maintain regulatory compliance\n- Protect customers and the organization\n- Enable efficient operations\n- Provide accountability and audit trails\n\n### Your Role in Operational Excellence\n\nAs a professional casino staff member:\n\n1. **Know the Procedures**: Study and understand all relevant SOPs\n2. **Follow the Procedures**: Execute tasks exactly as documented\n3. **Question Ambiguities**: Seek clarification when procedures are unclear\n4. **Suggest Improvements**: Provide feedback on operational efficiency\n5. **Maintain Documentation**: Complete all required records accurately\n\n## Risk Identification and Management\n\n### Common Risk Categories\n\n**Regulatory Risks**\n- Non-compliance with gaming regulations\n- Inadequate record-keeping\n- Failure to report required incidents\n- Licensing violations\n\n**Operational Risks**\n- Procedural errors or deviations\n- System failures or malfunctions\n- Communication breakdowns\n- Inadequate staffing or training\n\n**Customer-Related Risks**\n- Problem gambling behaviors\n- Customer disputes or complaints\n- Underage gaming attempts\n- Fraudulent activities\n\n**Security Risks**\n- Theft or misappropriation\n- Collusion or corruption\n- External threats\n- Data breaches\n\n### The Risk Management Cycle\n\n1. **Identify**: Recognize potential risks and issues\n2. **Assess**: Evaluate likelihood and potential impact  \n3. **Report**: Communicate concerns to appropriate personnel\n4. **Respond**: Implement appropriate controls or interventions\n5. **Monitor**: Track outcomes and effectiveness\n6. **Review**: Analyze incidents and improve procedures\n\n## Industry Best Practices\n\n### International Standards\n\nSouth African casinos operate in a global industry. Understanding international best practices:\n\n**Australian Gaming Excellence**\n- Strong responsible gaming frameworks\n- Comprehensive staff training requirements\n- Customer interaction protocols\n\n**United Kingdom Gambling Commission Standards**\n- Robust licensing and compliance requirements\n- Player protection and safer gambling measures\n- Anti-money laundering procedures\n\n**Nevada Gaming Control Board (US)**\n- Rigorous operational standards\n- Extensive regulatory oversight\n- Industry innovation and best practices\n\n### South African Excellence\n\nOur domestic industry leads in several areas:\n\n- Integrated resort development\n- Responsible gaming initiatives\n- Community engagement and development\n- Employee development and training\n\n## Technology and Systems\n\nModern casino operations rely on sophisticated systems:\n\n### Core Technologies\n\n**Player Tracking Systems**\n- Monitor customer activity\n- Enable loyalty programs\n- Identify concerning behaviors\n- Generate operational data\n\n**Surveillance Systems**\n- 24/7 monitoring capabilities\n- Incident documentation\n- Security and compliance oversight\n\n**Cash Management Systems**\n- Secure financial transactions\n- Audit trails and accountability\n- Fraud prevention measures\n\n**Regulatory Reporting Systems**\n- Automated compliance reporting\n- Data accuracy and integrity\n- Regulatory submission management\n\n## Communication and Escalation\n\n### When to Escalate Issues\n\nKnowing when to involve supervisors or management:\n\n**Immediate Escalation Required**\n- Suspected criminal activity\n- Serious safety or security concerns\n- Significant rule or procedure violations  \n- Customer medical emergencies\n- System failures affecting operations\n\n**Routine Escalation**\n- Customer complaints requiring resolution\n- Procedural questions or clarifications\n- Equipment malfunctions\n- Scheduling or staffing concerns\n\n### Effective Communication\n\n**The STAR Method for Incident Reporting**\n\n- **S**ituation: Describe the context and circumstances\n- **T**ask: Explain your role and responsibilities\n- **A**ction: Detail the steps you took\n- **R**esult: Report the outcome and any follow-up required\n\n## Practical Knowledge Check\n\nConsider these scenarios:\n\n**Scenario 1**: A customer requests information about their gaming activity. What privacy considerations apply? What information can you provide?\n\n**Scenario 2**: You notice a procedural step that seems inefficient. What should you do?\n\n**Scenario 3**: A customer becomes agitated about a perceived error. How should you respond?\n\nThese scenarios will be explored in detail in the next lesson.\n\n## Continuing Professional Development\n\nThe gaming industry evolves constantly. Professional staff must:\n\n- Stay informed about regulatory changes\n- Participate in ongoing training\n- Share knowledge with colleagues\n- Seek feedback on performance\n- Pursue advanced certifications\n\nExcellence is a journey, not a destination.\n\n**Next Lesson**: Practical Application and Case Studies',
      12,
      2,
      NOW()
    );
    
    -- Lesson 3: Practical Application  
    INSERT INTO training_lessons (id, module_id, title, content, estimated_minutes, sort_order, created_at)
    VALUES (
      gen_random_uuid(),
      module_record.id,
      'Practical Application and Real-World Case Studies',
      '# Practical Application: ' || module_record.title || E'\n\n## Applying Knowledge in Real Casino Operations\n\nThis lesson bridges theory and practice through realistic scenarios based on actual casino operations in South Africa.\n\n## Case Study Methodology\n\nEach case study includes:\n\n1. **Situation Description**: Realistic casino scenario\n2. **Decision Points**: Critical moments requiring action\n3. **Analysis**: Evaluation of options and outcomes\n4. **Best Practices**: Recommended approach\n5. **Learning Points**: Key takeaways\n\n## Case Study 1: Customer Interaction Challenge\n\n### Situation\n\nYou are working during a busy Saturday evening shift. A regular customer who typically plays R500-R1,000 slot machines approaches your station appearing distressed. They explain they have been playing for 6 hours and have lost R15,000. They ask for your advice on whether they should continue playing to try to recover their losses.\n\n### Analysis\n\nThis situation involves multiple considerations:\n\n**Responsible Gaming Concerns**\n- Extended playing session (6 hours)\n- Significant financial loss\n- "Chasing losses" mentality\n- Customer showing distress\n\n**Professional Responsibilities**\n- Provide appropriate support\n- Do not encourage continued gambling\n- Offer responsible gaming resources\n- Consider intervention protocols\n\n**Customer Service Balance**\n- Maintain respectful, non-judgmental approach\n- Show genuine concern\n- Provide helpful information\n- Preserve customer dignity\n\n### Recommended Response\n\n**Step 1: Acknowledge and Empathize**\n*"I can see this has been a difficult session for you. It''s completely normal to feel frustrated when experiencing losses."*\n\n**Step 2: Provide Information (Not Advice)**\n*"I can''t advise you on whether to continue playing â€“ that''s a personal decision. What I can tell you is that gambling outcomes are random, and there''s no guarantee of recovering losses."*\n\n**Step 3: Offer Resources**\n*"Would you like information about our responsible gaming services? We have counselors available who can discuss strategies for managing your gaming in a way that keeps it enjoyable."*\n\n**Step 4: Suggest Alternatives**\n*"Many guests find it helpful to take a break, perhaps have a meal or coffee, before making decisions about continuing to play."*\n\n**Step 5: Document and Report**\nLog the interaction in the responsible gaming system for follow-up monitoring.\n\n### Learning Points\n\n- Never give advice on gambling decisions\n- Recognize signs of problematic behavior\n- Know how to access support resources\n- Balance empathy with professional boundaries\n- Document all concerning interactions\n\n## Case Study 2: Procedural Dilemma\n\n### Situation\n\nDuring a routine transaction, a customer presents an expired ID document for verification. Your standard procedure requires current, valid identification. The customer explains their ID renewal has been delayed due to Home Affairs backlogs (a common issue in South Africa), and they have an appointment confirmation letter. The transaction amount is just below the threshold requiring enhanced verification.\n\n### Analysis\n\n**Regulatory Requirements**\n- FICA requires valid identification\n- Expired ID may not meet verification standards\n- Appointment letter is not a valid ID document\n- "Just below threshold" may indicate structuring\n\n**Risk Considerations**\n- Potential compliance violation if proceeding\n- Risk of facilitating structuring\n- Setting precedent for policy exceptions\n- Customer disappointment if declining\n\n**Practical Realities**\n- Home Affairs delays are legitimate and common\n- Customer may be genuine\n- Strict adherence may seem inflexible\n- Maintaining consistent standards\n\n### Recommended Response\n\n**Step 1: Explain Requirements**\n*"I understand the frustration with ID renewals. Our regulations require current, valid identification for this transaction."*\n\n**Step 2: Offer Alternatives**\n*"Do you have any other valid ID documents? A passport or temporary ID from Home Affairs would work."*\n\n**Step 3: Escalate if Appropriate**\n*"Let me consult with my supervisor to see if there are any options available given the circumstances."*\n\n**Step 4: Document Decision**\nRecord the situation, decision, and rationale, including any supervisor approval.\n\n### Learning Points\n\n- Procedures exist for important reasons\n- Flexibility requires proper authorization\n- Document all exceptions thoroughly\n- Recognize potential manipulation tactics\n- Maintain professional consistency\n\n## Case Study 3: Colleague Concern\n\n### Situation\n\nYou observe a colleague appearing to deviate from standard procedures during chip transactions. On two occasions, you notice they complete transactions without fully verifying customer identification, and they seem to be favoring certain customers with faster service. You are unsure if this is innocent error, laziness, or something more concerning.\n\n### Analysis\n\n**Possible Explanations**\n- Inadequate training or understanding\n- Time pressure and shortcuts\n- Relationship with customers (family/friends)\n- Potential collusion or corruption\n- Simple human error\n\n**Your Obligations**\n- Maintain operational integrity\n- Protect the organization\n- Support colleague development\n- Report genuine concerns\n- Avoid false accusations\n\n**Risk Factors**\n- Compliance violations\n- Fraud or theft potential\n- Regulatory sanctions\n- Reputational damage\n- Liability exposure\n\n### Recommended Response\n\n**Option 1: Direct (Friendly) Approach**\nIf you have a good relationship with the colleague:\n\n*"Hey, I noticed earlier you seemed rushed on that chip transaction. Everything okay? Just wanted to check you''re not feeling pressured to skip steps."*\n\nThis allows them to explain and correct behavior without formal reporting.\n\n**Option 2: Supervisor Notification**\nFor serious concerns or repeated patterns:\n\n*"I''d like to discuss something I''ve observed regarding transaction procedures. When is a good time to talk privately?"*\n\nProvide factual observations without accusations.\n\n**Option 3: Anonymous Reporting**\nIf concerned about retaliation or uncertainty:\n\nUse the organization''s confidential reporting hotline or ethics line.\n\n### Learning Points\n\n- Speak up when you observe concerns\n- Focus on behaviors, not motives\n- Follow appropriate escalation channels\n- Protect confidentiality\n- Support organizational integrity\n\n## Practical Exercises\n\n### Exercise 1: Procedure Review\n\nReview your facility''s procedures for ' || module_record.title || E'. Identify:\n1. Three most critical procedural steps\n2. Common errors or deviations you''ve observed\n3. Suggested improvements or clarifications\n\n### Exercise 2: Scenario Planning\n\nDevelop responses for three potential situations you might encounter related to ' || module_record.title || E'. Include:\n- Initial assessment\n- Communication approach\n- Actions required\n- Documentation needs\n- Escalation criteria\n\n### Exercise 3: Knowledge Application\n\nCreate a one-page reference guide for a new colleague covering the most important aspects of ' || module_record.title || E' in your specific role.\n\n## Professional Judgment\n\nDeveloping professional judgment requires:\n\n1. **Knowledge Base**: Understanding regulations, procedures, and principles\n2. **Experience**: Learning from diverse situations\n3. **Reflection**: Analyzing outcomes and decisions\n4. **Mentorship**: Seeking guidance from experienced professionals\n5. **Ethics**: Maintaining integrity and professional standards\n\n## Preparing for Assessment\n\nThe final lesson includes comprehensive assessment. To prepare:\n\n- Review all lesson content thoroughly\n- Practice applying concepts to scenarios\n- Understand regulatory requirements\n- Know your organization''s specific procedures\n- Ask questions about any unclear areas\n\n**Next Lesson**: Assessment and Professional Competence Evaluation',
      15,
      3,
      NOW()
    );
    
    -- Lesson 4: Assessment
    INSERT INTO training_lessons (id, module_id, title, content, estimated_minutes, sort_order, created_at)
    VALUES (
      gen_random_uuid(),
      module_record.id,
      'Professional Competence Assessment and Certification',
      '# Final Assessment: ' || module_record.title || E'\n\n## Assessment Overview\n\nThis comprehensive assessment evaluates your professional competence in ' || module_record.title || E' according to industry standards and regulatory requirements.\n\n## Assessment Structure\n\nYour evaluation consists of multiple components:\n\n### 1. Knowledge Assessment (40%)\n\nMultiple-choice and short-answer questions covering:\n- Regulatory requirements and compliance\n- Operational procedures and protocols\n- Risk identification and management\n- Professional standards and ethics\n\n**Format**: 20 questions, 15 minutes\n**Passing Score**: 70% (14/20 correct)\n\n### 2. Scenario Analysis (40%)\n\nAnalysis of realistic casino situations requiring:\n- Problem identification\n- Decision-making application\n- Procedure implementation\n- Communication and escalation\n\n**Format**: 3 detailed scenarios, 20 minutes  \n**Passing Score**: Demonstrates competent responses to 2 of 3 scenarios\n\n### 3. Practical Demonstration (20%)\n\nWhere applicable, demonstration of:\n- Procedure execution\n- System operation\n- Documentation completion\n- Customer interaction skills\n\n**Format**: Role-play or simulation\n**Passing Score**: Meets competency standards\n\n## Knowledge Assessment Questions\n\n*Note: The following are sample questions. Your actual assessment will draw from a larger question bank.*\n\n### Sample Question 1: Regulatory Knowledge\n\n**Question**: Under the Financial Intelligence Centre Act (FICA), what is the threshold for single cash transactions requiring customer identification and verification in South African casinos?\n\nA) R10,000  \nB) R25,000  \nC) R50,000  \nD) R100,000\n\n**Correct Answer**: B) R25,000\n\n**Explanation**: FICA Regulations set R25,000 as the threshold for single cash transactions requiring mandatory customer due diligence. This applies to both deposits and withdrawals.\n\n### Sample Question 2: Procedural Application\n\n**Question**: A customer requests to be enrolled in the self-exclusion program. What is your FIRST responsibility?\n\nA) Process the exclusion immediately  \nB) Try to convince them to reconsider\nC) Direct them to the responsible gaming manager\nD) Ask why they want to self-exclude\n\n**Correct Answer**: C) Direct them to the responsible gaming manager\n\n**Explanation**: Self-exclusion requests must be handled by trained responsible gaming staff who can ensure proper procedures, provide appropriate resources, and complete required documentation.\n\n### Sample Question 3: Risk Recognition\n\n**Question**: Which of the following situations represents the HIGHEST potential money laundering risk?\n\nA) Regular customer increasing betting from R100 to R500 per spin\nB) New customer purchasing R30,000 in chips, playing minimally for 10 minutes, cashing out and requesting casino cheque\nC) Customer using multiple slot machines during a 4-hour session\nD) Customer requesting a complimentary meal after significant losses\n\n**Correct Answer**: B\n\n**Explanation**: This pattern (large cash-to-chip, minimal play, cash-out to cheque) is classic money laundering layering behavior. The casino cheque provides a "clean" financial instrument.\n\n## Scenario Analysis Examples\n\n### Scenario A: Complex Customer Situation\n\n**Situation Description**:\n\nA well-dressed customer you haven''t seen before approaches your station at 2:00 AM. They pull out R45,000 in cash (mostly R200 notes) and request to purchase chips. When you request identification, they provide a passport from a country on the FATF high-risk list. They mention they are a tourist here for business and have won this money at another casino earlier in the evening. They seem nervous and keep glancing at the entrance.\n\n**Your Assessment Must Address**:\n\n1. **Risk Factors Identified**: (minimum 4)\n   - Large cash transaction above reporting threshold\n   - High-risk jurisdiction passport\n   - Late night transaction (increased risk period)\n   - Nervous behavior and surveillance awareness\n   - Claim of winning at another casino (difficult to verify)\n   - Unusual denominations (R200 notes)\n\n2. **Immediate Actions Required**: (in order)\n   - Complete mandatory customer due diligence\n   - Verify identification authentically\n   - Complete R25,000+ transaction report\n   - Process transaction per standard procedures (if ID valid)\n   - Observe subsequent customer behavior\n   - Notify shift supervisor of high-risk transaction\n\n3. **Documentation Needed**:\n   - Customer identification details\n   - Transaction amount and denomination breakdown\n   - FICA reporting form\n   - Incident log entry\n   - Possible STR if additional red flags emerge\n\n4. **Communication Approach**:\n   - Remain professional and non-accusatory\n   - Explain compliance requirements matter-of-factly\n   - Complete verification without rushing\n   - Do not "tip off" customer to suspicions\n\n5. **Follow-Up Considerations**:\n   - Monitor customer''s gaming behavior\n   - Alert surveillance to document activity\n   - Flag account for enhanced monitoring\n   - Debrief with supervisor post-shift\n\n**Competent Response Criteria**:\n- Identifies 4+ risk factors correctly\n- Follows proper verification procedures\n- Completes required documentation\n- Maintains professional demeanor\n- Recognizes escalation needs\n\n### Scenario B: Procedural Challenge\n\n**Situation Description**:\n\nDuring a mid-afternoon shift, a colleague urgently needs to leave for a family emergency. Your manager asks you to cover their station temporarily, even though you haven''t been trained on one specific procedure performed at that station. A customer approaches requiring that exact procedure. Your manager is in a meeting and unreachable. Other staff are occupied with their own responsibilities.\n\n**Your Assessment Must Address**:\n\n1. What should you do immediately?\n2. What are the competing priorities?\n3. How do you balance customer service with compliance?\n4. What communication is needed?\n5. How should this situation be resolved?\n\n**Competent Response Criteria**:\n- Prioritizes procedural compliance over speed\n- Seeks appropriate guidance (other trained staff)\n- Communicates honestly with customer\n- Does not perform procedures without proper training\n- Documents situation appropriately\n- Identifies training needs for future\n\n## Professional Competence Standards\n\nTo achieve certification, you must demonstrate:\n\n### Knowledge Component\n- Understanding of regulatory requirements\n- Familiarity with operational procedures\n- Awareness of risk factors and indicators\n- Recognition of professional responsibilities\n\n### Skills Component\n- Appropriate decision-making in complex situations\n- Effective communication with customers and colleagues\n- Accurate documentation and record-keeping\n- Proper use of systems and technology\n\n### Professional Attributes\n- Ethical conduct and integrity\n- Customer focus balanced with compliance\n- Attention to detail and thoroughness\n- Commitment to continuous improvement\n\n## Certification Requirements\n\nSuccessful completion requires:\n\n**Minimum Standards**:\n- 70% on knowledge assessment (14/20 questions)\n- Competent responses on 2 of 3 scenario analyses\n- Satisfactory practical demonstration (where applicable)\n- Completion of all four lessons\n- Acknowledgment of professional standards\n\n**Certification Period**: \n- Certificate valid for 24 months from issue date\n- Annual refresher training required\n- Recertification before expiration\n\n## Post-Certification Expectations\n\nAfter receiving certification:\n\n1. **Apply Learning**: Implement knowledge in daily operations\n2. **Share Knowledge**: Help train and mentor colleagues  \n3. **Stay Current**: Monitor regulatory and procedural changes\n4. **Seek Growth**: Pursue advanced training opportunities\n5. **Maintain Standards**: Uphold professional and ethical conduct\n\n## Continuous Professional Development\n\nYour learning journey continues:\n\n**Recommended Next Steps**:\n- Advanced certification in ' || module_record.title || E'\n- Related training modules to broaden expertise\n- Industry conferences and workshops\n- Professional gaming association membership\n- Specialized role-based training\n\n## Assessment Instructions\n\nWhen you are ready:\n\n1. **Review**: Revisit all lesson content\n2. **Practice**: Work through sample questions and scenarios\n3. **Prepare**: Ensure you have required time for assessment\n4. **Begin**: Access the assessment through the learning management system\n5. **Focus**: Give your full attention during assessment\n6. **Submit**: Complete all sections before final submission\n\n## Support and Resources\n\nIf you need assistance:\n\n- **Technical Issues**: Contact LMS support\n- **Content Questions**: Review lesson materials or contact trainer\n- **Scheduling**: Speak with your supervisor\n- **Accommodation Needs**: Contact HR or training coordinator\n\n## Professional Ethics Acknowledgment\n\nBy proceeding with this assessment, you acknowledge:\n\n- You will complete the assessment independently\n- You will not share assessment content with others\n- You will apply this knowledge ethically in your role\n- You understand your professional responsibilities\n- You commit to upholding industry standards\n\n## Congratulations\n\nCompleting this professional training module represents significant achievement in your casino career. Your commitment to excellence, compliance, and professional development contributes to the integrity of South Africa''s gaming industry.\n\n**Good luck on your assessment!**\n\n---\n\n*This training module is accredited by [Accreditation Body] and aligned with CATHSSETA and National Qualifications Framework standards.*',
      13,
      4,
      NOW()
    );
    
  END LOOP;
END $$;
